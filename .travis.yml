language: go

go:
  - 1.12.4

services:
  - docker

script:
  - go get -u golang.org/x/lint/golint
  - make lint
  - make unit
  - make unit-race
  - make
  - make install
  - broker --version
  - make up
  - docker exec -ti helgart_broker helgart-broker --version
  - docker logs helgart_broker
  - make down